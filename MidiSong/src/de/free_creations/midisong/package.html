<!--
 Copyright 2011 Harald Postner <Harald at H-Postner.de>.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 under the License.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
    <p>
      The <em>Song</em> is the central data-structure in the Repetitor system,
      it defines the musical structure and all the performance relevant
      data (timing, instruments etc).
    </p>
    <p>
      This package provides:
    </p>
    <ul>
      <li>functionality to create, persist and re-instantiate
        musical performances.</li>
      <li>functionality to render a musical performance through
        the microsequncer.</li>
    </ul>

    <p>
      <img src="doc-files/MidiSongPackage.png" alt="MidiSong Package Diagram"
           title="MidiSong Class Diagram" >
    </p>
    <h2>Structure of a song</h2>
    <p>
      <img src="doc-files/SongStructure.png" alt="Structure of a song"
           title="Structure of a song" >
    </p>
    <p>A song is a hierarchical tree of <em>Tracks</em>. We use the term <em>Track</em>
      with a slightly different meaning than in the Midi-file specification. When there
      is possible confusion between our meaning of track and the midi-file-track we will call
      midi-file-track as track-data.</p>
    <p>Tracks are
      arranged in a strict hierarchy, a track might have any number of sub-tracks.
      Every track except the root-track has exactly one parent track.
      The track the root of the hierarchy, is called the <em>Master-Track</em>.
      The Master-Track defines the tempo and the time-signature for all its sub-tracks.
      Sub-Tracks inherit certain properties from their parents. Examples of such properties are 
      the attenuation (the volume) or the instrument. Sub-Tracks might change inherited properties.
      Depending on the kind of property, the own value is added to the inherited value (e.g. attenuation)
      or it overwrites the inherited value (e.g. instrument).
    </p>

  </body>
</html>
